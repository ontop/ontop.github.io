<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ontop Mapping Language | Ontop</title>
    <meta name="generator" content="VuePress 1.8.2">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.6c58b99e.css" as="style"><link rel="preload" href="/assets/js/app.00df04d9.js" as="script"><link rel="preload" href="/assets/js/2.ce8d9015.js" as="script"><link rel="preload" href="/assets/js/33.d779207d.js" as="script"><link rel="prefetch" href="/assets/js/10.68331741.js"><link rel="prefetch" href="/assets/js/100.d24737e4.js"><link rel="prefetch" href="/assets/js/101.d60feae1.js"><link rel="prefetch" href="/assets/js/102.a7871b09.js"><link rel="prefetch" href="/assets/js/103.6ab9b1c1.js"><link rel="prefetch" href="/assets/js/11.9c479812.js"><link rel="prefetch" href="/assets/js/12.473c4f1c.js"><link rel="prefetch" href="/assets/js/13.9330117e.js"><link rel="prefetch" href="/assets/js/14.cabf7cc1.js"><link rel="prefetch" href="/assets/js/15.7caa7cef.js"><link rel="prefetch" href="/assets/js/16.6ea3c048.js"><link rel="prefetch" href="/assets/js/17.23c168f3.js"><link rel="prefetch" href="/assets/js/18.1de16b6c.js"><link rel="prefetch" href="/assets/js/19.c55473af.js"><link rel="prefetch" href="/assets/js/20.8c67cb7d.js"><link rel="prefetch" href="/assets/js/21.101f0364.js"><link rel="prefetch" href="/assets/js/22.00571580.js"><link rel="prefetch" href="/assets/js/23.43b5e0ca.js"><link rel="prefetch" href="/assets/js/24.e8f61543.js"><link rel="prefetch" href="/assets/js/25.67984585.js"><link rel="prefetch" href="/assets/js/26.d98cd04f.js"><link rel="prefetch" href="/assets/js/27.7cc9a46d.js"><link rel="prefetch" href="/assets/js/28.527a0d00.js"><link rel="prefetch" href="/assets/js/29.503c1a61.js"><link rel="prefetch" href="/assets/js/3.660a6d66.js"><link rel="prefetch" href="/assets/js/30.64b254ac.js"><link rel="prefetch" href="/assets/js/31.46aee505.js"><link rel="prefetch" href="/assets/js/32.1ce919ea.js"><link rel="prefetch" href="/assets/js/34.1ba85fb8.js"><link rel="prefetch" href="/assets/js/35.8989099e.js"><link rel="prefetch" href="/assets/js/36.455e3965.js"><link rel="prefetch" href="/assets/js/37.2c512b56.js"><link rel="prefetch" href="/assets/js/38.7f8c8868.js"><link rel="prefetch" href="/assets/js/39.a8afde28.js"><link rel="prefetch" href="/assets/js/4.dacceb29.js"><link rel="prefetch" href="/assets/js/40.569cc093.js"><link rel="prefetch" href="/assets/js/41.3ec07dee.js"><link rel="prefetch" href="/assets/js/42.503f8fa0.js"><link rel="prefetch" href="/assets/js/43.9c6a1ad1.js"><link rel="prefetch" href="/assets/js/44.305519a1.js"><link rel="prefetch" href="/assets/js/45.b2b7d80e.js"><link rel="prefetch" href="/assets/js/46.8a4a73f6.js"><link rel="prefetch" href="/assets/js/47.dcb0dc26.js"><link rel="prefetch" href="/assets/js/48.6f37721d.js"><link rel="prefetch" href="/assets/js/49.4acb672a.js"><link rel="prefetch" href="/assets/js/5.01119bb7.js"><link rel="prefetch" href="/assets/js/50.6ede478b.js"><link rel="prefetch" href="/assets/js/51.c3c9b51a.js"><link rel="prefetch" href="/assets/js/52.782ca6fd.js"><link rel="prefetch" href="/assets/js/53.10b0339e.js"><link rel="prefetch" href="/assets/js/54.f9ece6d1.js"><link rel="prefetch" href="/assets/js/55.ef48476c.js"><link rel="prefetch" href="/assets/js/56.1746e153.js"><link rel="prefetch" href="/assets/js/57.e19bd6b6.js"><link rel="prefetch" href="/assets/js/58.c9491bfe.js"><link rel="prefetch" href="/assets/js/59.9ffa267b.js"><link rel="prefetch" href="/assets/js/6.a180f86f.js"><link rel="prefetch" href="/assets/js/60.5b89e9df.js"><link rel="prefetch" href="/assets/js/61.14ba2e30.js"><link rel="prefetch" href="/assets/js/62.b52f53bc.js"><link rel="prefetch" href="/assets/js/63.382bbc0b.js"><link rel="prefetch" href="/assets/js/64.4d0fd4d4.js"><link rel="prefetch" href="/assets/js/65.2df9f13d.js"><link rel="prefetch" href="/assets/js/66.aa9b820a.js"><link rel="prefetch" href="/assets/js/67.acf3d633.js"><link rel="prefetch" href="/assets/js/68.7fb37785.js"><link rel="prefetch" href="/assets/js/69.78da7b99.js"><link rel="prefetch" href="/assets/js/7.95eee250.js"><link rel="prefetch" href="/assets/js/70.75a1bb04.js"><link rel="prefetch" href="/assets/js/71.6b59ebec.js"><link rel="prefetch" href="/assets/js/72.d18c9d6d.js"><link rel="prefetch" href="/assets/js/73.7e6e7ab0.js"><link rel="prefetch" href="/assets/js/74.6bd4c14c.js"><link rel="prefetch" href="/assets/js/75.e1b5a1b3.js"><link rel="prefetch" href="/assets/js/76.509bd45d.js"><link rel="prefetch" href="/assets/js/77.3504b442.js"><link rel="prefetch" href="/assets/js/78.b60efb14.js"><link rel="prefetch" href="/assets/js/79.adb3c752.js"><link rel="prefetch" href="/assets/js/8.a24e3ea0.js"><link rel="prefetch" href="/assets/js/80.73048182.js"><link rel="prefetch" href="/assets/js/81.6f2952a8.js"><link rel="prefetch" href="/assets/js/82.78304565.js"><link rel="prefetch" href="/assets/js/83.14076ce4.js"><link rel="prefetch" href="/assets/js/84.d65f7e8e.js"><link rel="prefetch" href="/assets/js/85.cb43fbe6.js"><link rel="prefetch" href="/assets/js/86.f04fa4e6.js"><link rel="prefetch" href="/assets/js/87.6ee26e31.js"><link rel="prefetch" href="/assets/js/88.51f55844.js"><link rel="prefetch" href="/assets/js/89.e8294fb8.js"><link rel="prefetch" href="/assets/js/9.2397fef4.js"><link rel="prefetch" href="/assets/js/90.43fdde3e.js"><link rel="prefetch" href="/assets/js/91.fddc4cad.js"><link rel="prefetch" href="/assets/js/92.8b9b5e15.js"><link rel="prefetch" href="/assets/js/93.64b8e878.js"><link rel="prefetch" href="/assets/js/94.c3689269.js"><link rel="prefetch" href="/assets/js/95.fb72cfd6.js"><link rel="prefetch" href="/assets/js/96.b01e5b57.js"><link rel="prefetch" href="/assets/js/97.e2a20b57.js"><link rel="prefetch" href="/assets/js/98.ace85b24.js"><link rel="prefetch" href="/assets/js/99.88f376fa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6c58b99e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ontop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/concepts.html" class="sidebar-link">Key concepts</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/guide/cli.html" class="sidebar-link">Command Line Interface</a></li><li><a href="/guide/compliance.html" class="sidebar-link">Standards compliance</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/advanced/mapping-language.html" aria-current="page" class="active sidebar-link">Ontop Mapping Language</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advanced/mapping-language.html#source-query" class="sidebar-link">Source Query</a></li><li class="sidebar-sub-header"><a href="/guide/advanced/mapping-language.html#target-triple-structure" class="sidebar-link">Target Triple Structure</a></li><li class="sidebar-sub-header"><a href="/guide/advanced/mapping-language.html#meta-mapping" class="sidebar-link">Meta-Mapping</a></li></ul></li><li><a href="/guide/advanced/predefined.html" class="sidebar-link">Predefined query endpoint (beta)</a></li><li><a href="/guide/advanced/logging.html" class="sidebar-link">Query logging</a></li><li><a href="/guide/advanced/caching.html" class="sidebar-link">HTTP caching</a></li><li><a href="/guide/advanced/configuration.html" class="sidebar-link">Configuration keys</a></li><li><a href="/guide/advanced/lenses.html" class="sidebar-link">Lenses</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data sources</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/troubleshooting/faq.html" class="sidebar-link">FAQ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Meta</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/glossary.html" class="sidebar-link">Glossary</a></li><li><a href="/guide/releases.html" class="sidebar-link">Release notes</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ontop-mapping-language"><a href="#ontop-mapping-language" class="header-anchor">#</a> Ontop Mapping Language</h1> <p>While Ontop is compatible with the W3C standard mapping language <a href="https://www.w3.org/TR/2012/REC-r2rml-20120927/" target="_blank" rel="noopener">R2RML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, it also provides its own native mapping language (<strong>OBDA</strong>).</p> <p>An OBDA mapping file is a text file with the extension <code>.obda</code> and consists of two main sections:</p> <ul><li><code>PrefixDeclaration</code>: a list of prefix definitions used in the mapping file. Each prefix is declared by a pair of its identifier (or name) and its IRI definition.</li> <li><code>MappingDeclaration</code>: collection of <strong>mapping assertions</strong> where each mapping assertion consists of three fields: <code>mappingId</code>, <code>source</code> and <code>target</code>. The mappingId is any string identifying the assertion, the source is an arbitrary SQL query over the database, and the target is a <a href="#target-triple-template">triple template</a> that contains placeholders that reference column names mentioned in the source query.</li></ul> <p>The following is an example of a valid OBDA mapping file:</p> <div class="language-text extra-class"><pre class="language-text"><code>[PrefixDeclaration]
:		http://www.example.org/library#
xsd:	http://www.w3.org/2001/XMLSchema#
rdf:	http://www.w3.org/1999/02/22-rdf-syntax-ns#
[MappingDeclaration] @collection [[
mappingId     Book collection
target        :BID_{id} a :Book .
source        SELECT id FROM books
mappingId     Book title
target        :BID_{id} :title {title} .
source        SELECT id, title FROM books
]]
</code></pre></div><p>The empty lines between the two sections and between the mappings are mandatory.</p> <div class="custom-block tip"><p class="custom-block-title">Comments</p> <p>To comment out a line in an OBDA mapping file, you can use the <code>;</code> character at the beginning of the line. Note that you can only comment out entire lines, not parts of them.</p></div> <h2 id="source-query"><a href="#source-query" class="header-anchor">#</a> Source Query</h2> <p>The <code>source</code> query in a mapping assertion is an SQL query over the underlying relational database and as such it uses the SQL syntax of that specific database dialect.
So things like quotes conventions may vary depending on the database system used. For example, in PostgreSQL double quotes are used for tables and column identifiers, while in MySQL backticks are used.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The Ontop SQL parser only parses simple SQL queries without unions, aggregations, order by, etc. Non-parsed queries are treated as black-box views and sent directly to the database so the optimizations that Ontop can apply are limited.</p></div> <h2 id="target-triple-structure"><a href="#target-triple-structure" class="header-anchor">#</a> Target Triple Structure</h2> <p>This section explains the syntax and limitations for the <code>target</code> of mapping assertions, which is an adaptation of the <a href="http://www.w3.or/TR/turtle" target="_blank" rel="noopener">Turtle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> syntax. Each target triple is written like an RDF subject-predicate-object (SPO) graph.</p> <div class="language- extra-class"><pre class="language-text"><code>target  &lt;http://www.example.org/library#BID_{id}&gt; rdf:type :Book .
                       [S]                          [P]     [O]
target  &lt;http://www.example.org/library#BID_{id}&gt; :title {title} .
                       [S]                          [P]     [O]
</code></pre></div><p>Each triple must be separated by a space followed by a period (<code>s p o .</code>) and is composed of three nodes:</p> <ul><li><p><strong>Subject node</strong>: The subject node can be one of the following terms:</p> <ol><li>IRI or blank node constant: e.g. <code>&lt;http://www.example.org/library#BID_FF125&gt;</code> or <code>_:Library1</code></li> <li><a href="#iri-or-blank-node-template">IRI or blank node template</a>: e.g. <code>&lt;http://www.example.org/library#BID_{id}&gt;</code> or <code>_:{id}</code></li> <li>IRI or blank node column: a column directly from the source query (e.g. <code>&lt;{iri}&gt;</code>)</li></ol></li> <li><p><strong>Predicate node</strong>: The predicate node can be one of the following terms:</p> <ol><li>IRI constant: e.g. <code>&lt;http://www.example.org/library#title&gt;</code></li> <li>IRI template: e.g. <code>&lt;http://www.example.org/library#{predicate}&gt;</code></li> <li>IRI column: a column from the source query (e.g. <code>&lt;{predicate_iri}&gt;</code>)</li></ol> <p>Note that the special predicate <code>a</code> is a shortcut that stands for <code>rdf:type</code> (more precisely, for <code>&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;</code>).</p></li> <li><p><strong>Object node</strong>: The object node can be one of the following terms:</p> <ol><li>IRI or blank node constant: e.g., <code>&lt;http://www.example.org/library#Book&gt;</code></li> <li><a href="#iri-template">IRI or blank node template</a>: e.g., <code>&lt;http://www.example.org/Author-{pid}&gt;</code></li> <li>IRI or blank node column: e.g. <code>&lt;{object_iri}&gt;</code></li> <li>Literal constant: either an implicitly typed literal (e.g., <code>123</code> or <code>true</code> or <code>&quot;John&quot;</code>), an explicitly typed literal (e.g., <code>&quot;John&quot;^^xsd:string</code>, <code>&quot;123&quot;^^xsd:integer</code>) or a literal with a language tag (e.g., <code>&quot;Il Trono di Spade&quot;@it</code>).</li> <li>Literal column: a column from the source query (e.g., <code>{title}</code>). It can also be explicitly typed (e.g., <code>{title}^^xsd:string</code>) or have a language tag (e.g., <code>{title}@en</code>).</li> <li>Literal template: just like literal constants, literal templates can also be explicitly typed or have a language tag. Literal templates can be useful to create complex, arbitrary literals by concatenation (e.g. <code>&quot;POINT ({longitude} {latitude})&quot;^^geo:wktLiteral</code>).</li></ol></li></ul> <p>IRI and blank node templates apply <strong>IRI-safe</strong> encoding to their columns, following the <a href="https://www.w3.org/TR/r2rml/#dfn-iri-safe" target="_blank" rel="noopener">R2RML standard<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. For example, if we have the IRI template <code>&lt;http://www.example.org/library#BID_{name}&gt;</code> and suppose that for the <code>name</code> column we have the value <code>&quot;John Library&quot;</code>, then the generated IRI will be <code>&lt;http://www.example.org/library#BID_John%20Library&gt;</code>. Instead, IRI columns are not transformed, so their values are expected to already be valid IRIs.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Literal constants, templates, and columns can either be explicitly typed or have a language tag, but the two cannot be combined. For example, the following mapping is <em>invalid</em>:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles in Italian
source        SELECT id, title FROM books WHERE lang='ITALIAN'
target        :BID_{id} :title {title}^^xsd:string@it .
</code></pre></div></div> <h3 id="iri-or-blank-node-template"><a href="#iri-or-blank-node-template" class="header-anchor">#</a> IRI or Blank Node Template</h3> <p>IRI or blank node templates are used in the target of mapping assertions for the identification of generated objects. An IRI/blank node template is a string with placeholders (e.g. <code>&lt;http://www.example.org/library#BID_{id}&gt;</code>). More than one placeholder can appear in a template, which allows constructing complex paths. For example, as an IRI template:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Spare parts
source        SELECT product, part, vendor FROM product
target        &lt;http://example.org/{vendor}/{product}/{part}&gt; a :Part .
</code></pre></div><p>or as a blank node template:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Spare parts
source        SELECT product, part, vendor FROM product
target        _:{product}/{part} a :Part .
</code></pre></div><h4 id="prefixes-in-iri-or-blank-node-templates"><a href="#prefixes-in-iri-or-blank-node-templates" class="header-anchor">#</a> Prefixes in IRI or Blank Node Templates</h4> <p>Prefixes can be used when writing IRI or blank node templates and are replaced by their definition when Ontop parses the mappings.</p> <p><em>Example</em>. Assume that the following prefixes are defined:</p> <div class="language- extra-class"><pre class="language-text"><code>:	http://www.example.org/ontology1#
p:	http://www.example.org/ontology2#
</code></pre></div><p>Then this mapping assertion:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Example
source        SELECT col1, col2 FROM table
target        &lt;http://www.example.org/ontology1#{col1}&gt; :property &lt;http://www.example.org/ontology2#{col2}&gt;
</code></pre></div><p>is equivalent to this mapping assertion:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Example
source        SELECT col1, col2 FROM table
target        :{col1} :title p:{col2}
</code></pre></div><h3 id="literal"><a href="#literal" class="header-anchor">#</a> Literal</h3> <h4 id="literal-typing"><a href="#literal-typing" class="header-anchor">#</a> Literal Typing</h4> <p>It is possible to explicitly declare the type of a literal by suffixing it with <code>^^</code> followed by the IRI of the datatype. For example:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles
source        SELECT id, title, edition, comment FROM books
target        :BID_{id} :title {title}^^xsd:string; :edition {edition}^^xsd:integer; :description {comment} .
</code></pre></div><p>The type used in the mapping has to agree with the type in the ontology (if specified).
If the type is not specified (for example, for the <code>description</code> property in the previous mapping), the system will look at the SQL type of the SQL column used in the mapping and will use the <a href="https://www.w3.org/TR/r2rml/#natural-mapping" target="_blank" rel="noopener"><strong>Natural Mapping of SQL values</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as defined by <a href="https://www.w3.org/TR/r2rml/" target="_blank" rel="noopener">R2RML standard<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="language-tags"><a href="#language-tags" class="header-anchor">#</a> Language Tags</h4> <p>The language for a literal can be specified directly using the <code>@</code> symbol followed by the language tag. For example:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles in Italian
source        SELECT id, title FROM books WHERE lang='ITALIAN'
target        :BID_{id} :title {title}@it .
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Language tags can only be constants, it is not possible to obtain them dynamically from the database. So for example, the following mapping is <em>invalid</em>:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles in Italian
source        SELECT id, title, lang FROM books
target        :BID_{id} :title {title}@{lang} .
</code></pre></div></div> <h3 id="named-graphs"><a href="#named-graphs" class="header-anchor">#</a> Named Graphs</h3> <p>By default, triples generated by a triple pattern are added to the default graph. However, it is also possible to specify a named graph by using the keyword <code>GRAPH</code> followed by an IRI constant or template and then the triple pattern in curly braces. For example:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles in Italian
source        SELECT id, title FROM books WHERE lang='ITALIAN'
target        GRAPH &lt;http://www.example.org/graphs/italian&gt; { :BID_{id} :title {title}@it . }
</code></pre></div><p>or, using a template for the graph name:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     Book titles in Italian
source        SELECT id, title FROM books WHERE lang='ITALIAN'
target        GRAPH &lt;http://www.example.org/graphs/{lang}&gt; { :BID_{id} :title {title}@it . }
</code></pre></div><h3 id="compact-form"><a href="#compact-form" class="header-anchor">#</a> Compact Form</h3> <p>Following the <a href="https://www.w3.org/TR/turtle/" target="_blank" rel="noopener">Turtle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> syntax, Ontop's native mapping format allows writing an RDF graph in a compact textual form. A set of triples sharing the same subject can be written as a <strong>predicate list</strong>, where predicate-object pairs are separated by semicolons. Similarly, a set of triples sharing the same subject and predicate can be written as an <strong>object list</strong>, where objects are separated by commas.</p> <p><strong>Predicate List</strong>: These two examples are equivalent ways of writing the triple template for an Author.</p> <div class="language- extra-class"><pre class="language-text"><code>:Author-{ID} a :Author .
:Author-{ID} :firstName {FNAME} .
:Author-{ID} :lastName {LNAME} .
:Author-{ID} :writes :Book-{ID} .
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>:Author-{ID} a :Author; :firstName {FNAME}; :lastName {LNAME}; :writes :Book-{ID} .
</code></pre></div><p><strong>Object List</strong>: These two examples are equivalent ways of writing the triple template for the <em>A Game of Thrones</em> book.</p> <div class="language- extra-class"><pre class="language-text"><code>:A_Game_of_Thrones :title &quot;A Game of Thrones&quot;@en-US .
:A_Game_of_Thrones :title &quot;Il Trono di Spade&quot;@it .
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>:A_Game_of_Thrones :title &quot;A Game of Thrones&quot;@en-US, &quot;Il Trono di Spade&quot;@it .
</code></pre></div><h2 id="meta-mapping"><a href="#meta-mapping" class="header-anchor">#</a> Meta-Mapping</h2> <p>Meta-mapping assertions are syntactically the same as normal assertions, but they allow users to include variables in the targets without restrictions. This means that class and property names can be constructed dynamically from the database.</p> <p><em>Example</em>: Consider the following mapping assertions:</p> <div class="language- extra-class"><pre class="language-text"><code>mappingId     mapping1
target        &lt;{iri}&gt; a :{value}_{code} .
source        SELECT value, iri, code FROM table1 WHERE code &gt; 0
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>mappingId     mapping2
target        &lt;{iri}&gt; :{role}_{code} {value} .
source        SELECT value, iri, code, role FROM table1 WHERE code &gt; 0
</code></pre></div><p>Suppose we also have a table named <code>table1</code> that the mapping assertions refer to:</p> <table><thead><tr><th>iri</th> <th>value</th> <th>code</th> <th>role</th></tr></thead> <tbody><tr><td>iri1</td> <td>A</td> <td>1</td> <td>P</td></tr> <tr><td>iri2</td> <td>B</td> <td>2</td> <td>P</td></tr> <tr><td>iri3</td> <td>A</td> <td>2</td> <td>Q</td></tr> <tr><td>iri4</td> <td>B</td> <td>2</td> <td>Q</td></tr></tbody></table> <p>Then <code>mapping1</code> will generate the following triples:</p> <div class="language- extra-class"><pre class="language-text"><code>iri1 a :A_1 .
iri2 a :B_2 .
iri3 a :A_2 .
iri4 a :B_2 .
</code></pre></div><p>And <code>mapping2</code> will generate the following triples:</p> <div class="language- extra-class"><pre class="language-text"><code>iri1 :P_1 A .
iri2 :P_2 B .
iri3 :Q_2 A .
iri4 :Q_2 B .
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ontop/ontop-website/edit/master/guide/advanced/mapping-language.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/8/2025, 10:25:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/compliance.html" class="prev">
        Standards compliance
      </a></span> <span class="next"><a href="/guide/advanced/predefined.html">
        Predefined query endpoint (beta)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.00df04d9.js" defer></script><script src="/assets/js/2.ce8d9015.js" defer></script><script src="/assets/js/33.d779207d.js" defer></script>
  </body>
</html>
