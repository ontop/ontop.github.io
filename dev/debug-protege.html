<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debug Protégé | Ontop</title>
    <meta name="generator" content="VuePress 1.8.2">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.2b9f24ec.css" as="style"><link rel="preload" href="/assets/js/app.a1472450.js" as="script"><link rel="preload" href="/assets/js/2.ce8d9015.js" as="script"><link rel="preload" href="/assets/js/21.101f0364.js" as="script"><link rel="prefetch" href="/assets/js/10.2e10abfc.js"><link rel="prefetch" href="/assets/js/11.9c479812.js"><link rel="prefetch" href="/assets/js/12.5ae33baf.js"><link rel="prefetch" href="/assets/js/13.9330117e.js"><link rel="prefetch" href="/assets/js/14.cabf7cc1.js"><link rel="prefetch" href="/assets/js/15.5aa9f0d0.js"><link rel="prefetch" href="/assets/js/16.62e1cbcc.js"><link rel="prefetch" href="/assets/js/17.23c168f3.js"><link rel="prefetch" href="/assets/js/18.1de16b6c.js"><link rel="prefetch" href="/assets/js/19.c55473af.js"><link rel="prefetch" href="/assets/js/20.8c67cb7d.js"><link rel="prefetch" href="/assets/js/22.c12075f0.js"><link rel="prefetch" href="/assets/js/23.43b5e0ca.js"><link rel="prefetch" href="/assets/js/24.e8f61543.js"><link rel="prefetch" href="/assets/js/25.2396cff3.js"><link rel="prefetch" href="/assets/js/26.6fb83462.js"><link rel="prefetch" href="/assets/js/27.1d29815b.js"><link rel="prefetch" href="/assets/js/28.94f3980e.js"><link rel="prefetch" href="/assets/js/29.6957445c.js"><link rel="prefetch" href="/assets/js/3.5b4997a5.js"><link rel="prefetch" href="/assets/js/30.a3858dfb.js"><link rel="prefetch" href="/assets/js/31.f0ac05d5.js"><link rel="prefetch" href="/assets/js/32.a9697747.js"><link rel="prefetch" href="/assets/js/33.45b3ef2c.js"><link rel="prefetch" href="/assets/js/34.1143d1d6.js"><link rel="prefetch" href="/assets/js/35.9f97607d.js"><link rel="prefetch" href="/assets/js/36.69b1ebb1.js"><link rel="prefetch" href="/assets/js/37.b00e49b5.js"><link rel="prefetch" href="/assets/js/38.9e838168.js"><link rel="prefetch" href="/assets/js/39.34ac5a0c.js"><link rel="prefetch" href="/assets/js/4.592b68cc.js"><link rel="prefetch" href="/assets/js/40.990e8628.js"><link rel="prefetch" href="/assets/js/41.560d2480.js"><link rel="prefetch" href="/assets/js/42.c2b6cacd.js"><link rel="prefetch" href="/assets/js/43.60554fba.js"><link rel="prefetch" href="/assets/js/44.9c17e350.js"><link rel="prefetch" href="/assets/js/45.ed78f3cc.js"><link rel="prefetch" href="/assets/js/46.4e886dc1.js"><link rel="prefetch" href="/assets/js/47.4f58c193.js"><link rel="prefetch" href="/assets/js/48.46bfdc41.js"><link rel="prefetch" href="/assets/js/49.e1d03dec.js"><link rel="prefetch" href="/assets/js/5.e8e9de00.js"><link rel="prefetch" href="/assets/js/50.1da73584.js"><link rel="prefetch" href="/assets/js/51.450a094b.js"><link rel="prefetch" href="/assets/js/52.a0dad4ca.js"><link rel="prefetch" href="/assets/js/53.c267993f.js"><link rel="prefetch" href="/assets/js/54.30ccaa77.js"><link rel="prefetch" href="/assets/js/55.63917381.js"><link rel="prefetch" href="/assets/js/56.19d04624.js"><link rel="prefetch" href="/assets/js/57.1a97816c.js"><link rel="prefetch" href="/assets/js/58.ddcdf984.js"><link rel="prefetch" href="/assets/js/59.e12c6271.js"><link rel="prefetch" href="/assets/js/6.e48edabd.js"><link rel="prefetch" href="/assets/js/60.f1b9a7f9.js"><link rel="prefetch" href="/assets/js/61.8b9b46ec.js"><link rel="prefetch" href="/assets/js/62.8c7d6e9f.js"><link rel="prefetch" href="/assets/js/63.5772ee45.js"><link rel="prefetch" href="/assets/js/64.ccf8b4ed.js"><link rel="prefetch" href="/assets/js/65.9896eacc.js"><link rel="prefetch" href="/assets/js/66.4d9ee740.js"><link rel="prefetch" href="/assets/js/67.a4f2ece4.js"><link rel="prefetch" href="/assets/js/68.b9ed0d41.js"><link rel="prefetch" href="/assets/js/69.3f3deb5d.js"><link rel="prefetch" href="/assets/js/7.95d781a2.js"><link rel="prefetch" href="/assets/js/70.54363746.js"><link rel="prefetch" href="/assets/js/71.3aed0ecb.js"><link rel="prefetch" href="/assets/js/72.3492b0b0.js"><link rel="prefetch" href="/assets/js/73.907c41d2.js"><link rel="prefetch" href="/assets/js/74.83a76091.js"><link rel="prefetch" href="/assets/js/75.8673688d.js"><link rel="prefetch" href="/assets/js/76.11762c22.js"><link rel="prefetch" href="/assets/js/77.12dc9d26.js"><link rel="prefetch" href="/assets/js/78.0db510f4.js"><link rel="prefetch" href="/assets/js/79.4c88602b.js"><link rel="prefetch" href="/assets/js/8.a24e3ea0.js"><link rel="prefetch" href="/assets/js/9.2397fef4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2b9f24ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ontop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/dev/git.html" class="sidebar-link">Git workflow</a></li><li><a href="/dev/build.html" class="sidebar-link">Build Ontop Bundles</a></li><li><a href="/dev/new-release.html" class="sidebar-link">Make a new release</a></li><li><a href="/dev/debug-protege.html" aria-current="page" class="active sidebar-link">Debug Protégé</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/debug-protege.html#build-the-protege-plugin" class="sidebar-link">Build the Protégé plugin</a></li><li class="sidebar-sub-header"><a href="/dev/debug-protege.html#debug-in-intellij-using-the-remote-debugger" class="sidebar-link">Debug in IntelliJ using the Remote debugger</a></li></ul></li><li><a href="/dev/debug-jetty.html" class="sidebar-link">Debug Jetty</a></li><li><a href="/dev/db-adapter.html" class="sidebar-link">Support a new database system</a></li><li><a href="/dev/stats.html" class="sidebar-link">Statistics</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Internals</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/internals/iq.html" class="sidebar-link">Intermediate Query (IQ)</a></li><li><a href="/dev/internals/guice.html" class="sidebar-link">Guice Conventions</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Outdated corner</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="debug-protege"><a href="#debug-protege" class="header-anchor">#</a> Debug Protégé</h1> <p>This page describes how to debug the Protégé Plugin of Ontop from IntelliJ.</p> <p>If you just want to test the plugin (without debugging), you only need to follow the step of building the Protégé plugin, and then run Protégé as usual (use <code>run.bat</code> on Windows)</p> <div class="language-console extra-class"><pre class="language-text"><code>$ Protege-[protege-version]/run.sh
</code></pre></div><h2 id="build-the-protege-plugin"><a href="#build-the-protege-plugin" class="header-anchor">#</a> Build the Protégé plugin</h2> <h3 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h3> <p>Checkout and build Ontop source code as described <a href="/dev/build">here</a>.
We assume all commands listed below are issued from the root directory of Ontop source tree.</p> <h3 id="first-time-build"><a href="#first-time-build" class="header-anchor">#</a> First time build</h3> <p>Unzip the Ontop Protégé bundle (obtained by previously building Ontop source code), which contains Protégé preconfigured with the Ontop Protégé plugin</p> <div class="language-console extra-class"><pre class="language-text"><code>$ unzip protege/distribution/target/ontop-protege-bundle-platform-independent-[ontop-version].zip
</code></pre></div><p>Notes:</p> <ul><li>for older versions of Ontop (before 5.0.0) the bundle to unzip is located either in <code>build/distribution/ontop-protege</code>  (up to 4.0.3) or in <code>build/distribution/target</code> (up to 5.0.0 excluded);</li> <li>you may also reuse a (platform independent) Protégé distribution obtained directly from Protégé web site and already installed locally. In this case make sure that the Protégé version matches the one used during Ontop build, that Protégé directory contains a <code>plugins</code> sub-directory (create it if missing), and run the commands below to deploy the Ontop Protégé plugin (adapting paths accordingly).</li></ul> <h3 id="subsequent-builds"><a href="#subsequent-builds" class="header-anchor">#</a> Subsequent builds</h3> <p><strong>Each time you modify the code, you need to recompile and build the Ontop distribution.</strong></p> <p>The fastest command to re-compile the Ontop Protégé plugin and the code it depends on is</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn clean package -Dmaven.test.skip -Passet-plugin -pl protege/distribution -am
</code></pre></div><p>Where:</p> <ul><li><code>clean package</code> forces a full re-build and may be generally omitted (which defaults to running <code>package</code>) unless you encounter build errors, in which case <code>clean</code> helps ruling out they stem from incremental builds;</li> <li><code>-Dmaven.test.skip</code> disables compiling and executing unit tests;</li> <li><code>-Passet-plugin</code> activates the generation of the Ontop Protégé plugin (OSGI bundle with all its dependencies), without including other uneeded artifacts (e.g., full ZIP/tar.gz Protégé bundles, source and Javadoc JARs, etc);</li> <li><code>-pl protege/distribution -am</code> (optional) tells Maven to only build the Ontop Protégé module located in <code>protege/distribution</code> and all the other Ontop modules it depends on, saving another couple of seconds.</li></ul> <p>Notes:</p> <ul><li>in Ontop versions 4.1 to 5.0.0 excluded, the command above should be replaced by <code>mvn clean package -Dmaven.test.skip -Pprotege -pl client/protege -am</code>;</li> <li>in Ontop version 4.0.3 or earlier, the command above should be replaced by <code>mvn clean install -pl client/protege -am -DskipTests</code> to compile code and install it in local maven repository, followed by <code>mvn bundle:bundle -pl client/protege</code> to package the plugin.</li></ul> <p>Once the Ontop Protégé plugin is built, it must be copied to the Protégé plugin directory via</p> <div class="language-console extra-class"><pre class="language-text"><code>$ cp protege/distribution/target/it.unibz.inf.ontop.protege-[ontop-version].jar Protege-[protege-version]/plugins/
</code></pre></div><p>The command above should replace any previous Ontop Protégé plugin in the <code>plugins</code> directory. In any case, <strong>make sure that there is only one Protégé plugin in <code>Protege-[protege-version]/plugins/</code></strong></p> <h2 id="debug-in-intellij-using-the-remote-debugger"><a href="#debug-in-intellij-using-the-remote-debugger" class="header-anchor">#</a> Debug in IntelliJ using the Remote debugger</h2> <h3 id="intellij-configuration"><a href="#intellij-configuration" class="header-anchor">#</a> IntelliJ configuration</h3> <p>Create a remote configuration:</p> <ul><li>select 'Edit configurations', click '+', then select 'Remote'</li> <li>Host: <code>localhost</code></li> <li>Port: choose a port number (<code>5005</code> in what follows)</li></ul> <h3 id="protege-run-options"><a href="#protege-run-options" class="header-anchor">#</a> Protégé run options</h3> <p>Edit the script <code>Protege-[protege-version]/run.sh</code> (on Windows: <code>run.bat</code>), adding the following JVM option (note that parameter <code>suspend</code> is set to <code>y</code>)</p> <div class="language- extra-class"><pre class="language-text"><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005
</code></pre></div><h3 id="run-debug"><a href="#run-debug" class="header-anchor">#</a> Run / Debug</h3> <p>Execute <code>Protege-[protege-version]/run.sh</code> (on Windows: <code>run.bat</code>).
Then, from IntelliJ, click on the Debug button (or Shift+F9).</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ontop/ontop-website/edit/master/dev/debug-protege.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/9/2023, 3:03:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dev/new-release.html" class="prev">
        Make a new release
      </a></span> <span class="next"><a href="/dev/debug-jetty.html">
        Debug Jetty
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a1472450.js" defer></script><script src="/assets/js/2.ce8d9015.js" defer></script><script src="/assets/js/21.101f0364.js" defer></script>
  </body>
</html>
